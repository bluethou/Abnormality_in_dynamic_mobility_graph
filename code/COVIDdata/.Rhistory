# install.packages("plm")
library(plm)
library(tidyverse)
data("Grunfeld", package = "plm")
pgrangertest(inv ~ value, data = Grunfeld)
pgrangertest(inv ~ value, data = Grunfeld, order = 2L)
pgrangertest(inv ~ value, data = Grunfeld, order = 2L, test = "Zbar")
df <- read_csv("paneldata.csv") %>% relocate(index)
df
setwd("~/2020-pooreumoe-msc-thesis/code/COVIDdata")
df <- read_csv("paneldata.csv") %>% relocate(index)
df
?pgrangertest
library(tidyverse)
data("Grunfeld", package = "plm")
EmplUK
data("EmplUK", package="plm")
EmplUK
pgmm(formula = log(emp) ~ lag(log(emp), 1) + lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) + lag(log(wage),
2:99) + lag(log(capital), 2:99), data = EmplUK, effect = "twoways",
model = "onestep", transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
EmplUK
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) + lag(log(capital), 0:1) | lag(log(emp), 2:99) + lag(log(wage), 2:99) + lag(log(capital), 2:99), data = EmplUK, effect = "twoways", model = "onestep", transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
,
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ +
lag(log(capital), 0:1) | lag(log(emp), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
# install.packages("plm")
library(plm)
#################3
data("EmplUK", package="plm")
EmplUK
z2 <- pgmm(log(emp) ~ +
lag(log(capital), 0:1) | lag(log(emp), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
summary(z2, robust = TRUE)
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
summary(z2, robust = TRUE)
summary(z2, robust = TRUE)
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) + #| lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
summary(z2, robust = TRUE)
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
summary(z2, robust = TRUE)
EmplUK
df
df
z3 <- pgmm(patient ~ lag(flopop, 0:5), data = df)
z3 <- pgmm(patient ~ lag(flopop, 0:5)|, data = df)
z3 <- pgmm(patient ~ lag(flopop, 0:5)|lag(flopop, 6:99), data = df)
z3 <- pgmm(patient ~ lag(flopop, 0:5)|lag(flopop, 6:10), data = df)
z3 <- pgmm(patient ~ lag(flopop, 0:2)|lag(flopop, 3:10), data = df)
z3 <- pgmm(patient ~ lag(flopop, 0:2)|lag(flopop, 3:4), data = df)
z3 <- pgmm(patient ~ lag(flopop)|lag(flopop, 3:4), data = df)
df
E <- pdata.frame(df, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
head(E)
E <- pdata.frame(df, index=c("index","time"))
head(E)
E <- pdata.frame(df, index=c("index","time"))
head(E)
E
E <- pdata.frame(df, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
E
head(lag(E$emp, 2), 10)
E
head(lag(E$flopop, 2), 10)
head(lag(E$flopop, 1), 10)
E$flopop
(lag(E$flopop, 1), 10)
lag(E$flopop, 2)
E %>% head()
E %>% head()
head(E)
plm(formula = inv ~ value + capital, data = Grunfeld, model = "random")
plm(formula = inv ~ value + capital + lag(caital,1), data = Grunfeld, model = "random")
plm(formula = inv ~ value + capital + lag(capital,1), data = Grunfeld, model = "random")
plm(formula = inv ~ value + capital | lag(capital,1), data = Grunfeld, model = "random")
plm(formula = inv ~ value + capital | value + lag(capital,1), data = Grunfeld, model = "random")
head(E)
E
tail(E)
lag(flopop)
lag(E$flopop)
lag(E$flopop, 0:4)
0:4
head(E)
tail(E)
z3 <- pgmm(patient ~ lag(flopop,0:4)|lag(flopop, 5:17), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:4)|lag(flopop, 5:17), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:4)|lag(flopop, 5:17), data = E)
z3 <- pgmm(formula = patient ~ flopop|lag(flopop, 5:17), data = E)
z3 <- pgmm(patient ~ flopop|lag(flopop, 5:17), data = E)
z3 <- pgmm(patient ~ flopop|lag(flopop, 1:17), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:4)|lag(flopop, 5:17), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:1)|lag(flopop, 2:17), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:1), data = E)
z3 <- pgmm(formula = patient ~ lag(flopop,0:1)|lag(flopop, 2:17), data = E)
z3 <- pgmm(formula = confirmation ~ lag(flopop,0:1)|lag(flopop, 2:17), data = E)
z3 <- pgmm(patient ~ lag(patient,1) + lag(flopop,0:1)|lag(flopop, 2:17) + lag(patient, 2:17), data = E)
nondif = read.csv("paneldata_nondiff.csv")
nondif
E <- pdata.frame(nondif, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
E
z3 <- pgmm(patient ~ lag(patient,1) + lag(flopop,0:1)|lag(flopop, 2:17) + lag(patient, 2:17), data = E)
E <- pdata.frame(nondif, index=c("index","time"), drop.index=TRUE, row.names=TRUE, effect = "twoways", model = "onestep",
transformation = "ld")
z3 <- pgmm(patient ~ lag(patient,1) + lag(flopop,0:1)|lag(flopop, 2:17) + lag(patient, 2:17), data = E, effect = "twoways", model = "onestep",
transformation = "ld")
z3 <- pgmm(patient ~ lag(patient,1) + lag(flopop,0:1)|lag(flopop, 2:17) + lag(patient, 2:17), data = E)
z3 <- pgmm(patient ~ lag(patient,1:5) + lag(flopop,0:5)|lag(flopop, 6:17) + lag(patient, 6:17), data = E)
z3 <- pgmm(patient ~ lag(patient,1:9) + lag(flopop,0:9)|lag(flopop, 10:17) + lag(patient, 10:17), data = E)
E
z3 <- pgmm(patient ~ lag(patient,1:9) | lag(patient, 10:17), data = E)
z3 <- pgmm(patient ~ lag(patient,1:3) | lag(patient, 4:17), data = E)
############3
nondif = read.csv("paneldata_nondiff.csv")
nondif
E <- pdata.frame(nondif, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
E
z3 <- pgmm(log(patient) ~ lag(log(patient),1:3) | lag(log(patient), 4:17), data = E)
log(patient)
log(E$patient)
e
exp(1)
z3 <- pgmm(log(patient+1) ~ lag(log(patient+1),1:3)  | lag(log(patient+1), 4:17), data = E)
z3 <- pgmm(log(flopop+1) ~ lag(log(flopop+1),1:3)  | lag(log(flopop+1), 4:17), data = E)
E %>% summary()
E
head(E)
z3 <- pgmm(log(flopop+1) ~ lag(log(flopop+1),1:3)  | lag(log(flopop+1), 4:17), data = E)
log(E$flopop)
lag(log(E$flopop))
z2 <- pgmm(log(emp) ~ lag(log(emp), 1)+ lag(log(wage), 0:1) +
lag(log(capital), 0:1) | lag(log(emp), 2:99) +
lag(log(wage), 2:99) + lag(log(capital), 2:99),
data = EmplUK, effect = "twoways", model = "onestep",
transformation = "ld")
EmplUK
EmplUK$emp
log(EmplUK$emp)
############3
nondif = read.csv("paneldata_diff.csv")
############3
df = read.csv("paneldata.csv")
df
_nondiff
############3
nondif = read.csv("paneldata_nondiff.csv")
nondif
E <- pdata.frame(nondif, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
E
z3 <- pgmm(log(flopop+1) ~ lag(log(flopop+1),1:3)  | lag(log(flopop+1), 4:17), data = E)
z3 <- pgmm(log(flopop) ~ lag(log(flopop),1:3)  | lag(log(flopop), 4:17), data = E)
z3 <- pgmm(log(flopop) ~ lag(log(flopop),1:3)  | lag(log(flopop), 4:17), data = E, effect=NULL)
z3 <- pgmm(log(flopop) ~ lag(log(flopop),1:3)  | lag(log(flopop), 4:17), data = E, effect="individual")
############3
nondif = read.csv("paneldata_nondiff.csv")
nondif
E <- pdata.frame(nondif, index=c("index","time"), drop.index=TRUE, row.names=TRUE)
E
z3 <- pgmm(log(flopop) ~ lag(log(flopop),1:3)  | lag(log(flopop), 4:17), data = E, effect="individual")
z3 <- pgmm(log(flopop) ~ lag(log(patient+1),1:3)  | lag(log(patient+1), 4:17), data = E, effect="individual")
z3 <- pgmm(log(patient) ~ lag(log(flopop),1:3)  | lag(log(flopop), 4:17), data = E, effect="individual")
flopop
E
z3 <- pgmm(log(patient+1) ~ lag(log(flopop),0:3)  | lag(log(flopop), 4:17), data = E, effect="individual")
z3 <- pgmm(log(patient+1) ~ lag(log(flopop+1),0:3)  | lag(log(flopop+1), 4:17), data = E, effect="individual")
z3 <- pgmm(log(patient+1) ~ lag(log(flopop+1),0:3)  | lag(log(flopop+1), 4:5), data = E, effect="individual")
z3 <- pgmm(log(patient+1) ~ lag(log(flopop+1),0:1)  | lag(log(flopop+1), 2:5), data = E, effect="individual")
z3 <- pgmm(log(patient+1) ~ lag(log(flopop+1),0:1)  | lag(log(flopop+1), 2:5), data = E, effect="twoways")
z3 <- pgmm(log(patient+1) ~ lag(log(flopop+1),0:1)  | lag(log(flopop+1), 2:5), data = E)
lag(log(E$flopop+1),0:1)
corr(lag(log(E$flopop+1),0:1))
cor(lag(log(E$flopop+1),0:1))
cor(lag((E$flopop+1),0:1))
cor(lag(E$flopop+1,0:1))
cor(lag(E$flopop+1,0:2))
(lag(E$flopop+1,0:2))
log(lag(E$flopop+1,0:2))
log(lag(E$flopop+1,0:2))
log(lag(E$flopop+1,0:2))
log(lag(E$patient+1,0:2))
z3 <- pgmm((patient+1) ~ lag((patient+1),1:2)  | lag(log(patient+1), 3:5), data = E)
z3 <- pgmm((patient+1) ~ lag((flopop),1:2)  | lag(log(flopop), 3:5), data = E)
z3 <- pgmm((patient) ~ lag((flopop),1:2)  | lag(log(flopop), 3:5), data = E)
